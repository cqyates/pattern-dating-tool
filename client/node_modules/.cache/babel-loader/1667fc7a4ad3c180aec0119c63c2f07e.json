{"ast":null,"code":"var _jsxFileName = \"/Users/coreyyates/Desktop/pattern-dating-tool/client/src/Components/UploadApp.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\n\nclass UploadApp extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      if (event.target.files[0]) {\n        var uploads = [];\n\n        for (var key in event.target.files) {\n          if (!event.target.files.hasOwnProperty(key)) continue;\n          let upload = event.target.files[key];\n          uploads.push(URL.createObjectURL(upload));\n        }\n\n        this.setState({\n          uploads: uploads\n        });\n      } else {\n        this.setState({\n          uploads: []\n        });\n      }\n    };\n\n    this.uploadPhoto = e => {\n      const file = e.target.files[0];\n      const formData = new FormData();\n      formData.append('file', file);\n      console.log(formData);\n      this.setState({\n        imgData: formData\n      }, () => console.log(this.state));\n    };\n\n    this.APIuploadPhoto = async () => {\n      try {\n        const response = await axios({\n          method: \"POST\",\n          url: \"/api/imgupload\",\n          data: this.state.imgData\n        });\n        console.log(response);\n      } catch (error) {\n        console.log(error.message);\n      }\n    };\n\n    this.state = {\n      uploads: [],\n      patterns: [],\n      documents: [],\n      imgData: []\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"app\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"My OCR App\")), React.createElement(\"section\", {\n      className: \"hero\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"fileUploaderContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Click here to upload documents\", React.createElement(\"input\", {\n      type: \"file\",\n      id: \"fileUploader\",\n      onChange: this.uploadPhoto,\n      multiple: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, this.state.uploads.map((value, index) => {\n      return React.createElement(\"img\", {\n        key: index,\n        src: value,\n        width: \"100px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      });\n    })), React.createElement(\"button\", {\n      onClick: this.APIuploadPhoto,\n      className: \"button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Start Uploading\")));\n  }\n\n}\n\nexport default UploadApp;","map":{"version":3,"sources":["/Users/coreyyates/Desktop/pattern-dating-tool/client/src/Components/UploadApp.js"],"names":["React","Component","axios","UploadApp","constructor","props","handleChange","event","target","files","uploads","key","hasOwnProperty","upload","push","URL","createObjectURL","setState","uploadPhoto","e","file","formData","FormData","append","console","log","imgData","state","APIuploadPhoto","response","method","url","data","error","message","patterns","documents","render","map","value","index"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from \"axios\";\n\nclass UploadApp extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      uploads: [],\n      patterns: [],\n      documents: [],\n      imgData: []\n    };\n  }\n\n  handleChange = (event) => {\n    if (event.target.files[0]) {\n      var uploads = []\n      for (var key in event.target.files) {\n        if (!event.target.files.hasOwnProperty(key)) continue;\n        let upload = event.target.files[key]\n        uploads.push(URL.createObjectURL(upload))\n      }\n      this.setState({\n        uploads: uploads\n      })\n    } else {\n      this.setState({\n        uploads: []\n      })\n    }\n  }\n\n  uploadPhoto = (e) => {\n    const file = e.target.files[0];\n    const formData = new FormData();\n    formData.append('file', file);\n    console.log(formData)\n    this.setState({\n      imgData: formData\n    }, ()=> console.log(this.state))\n  }\n\n  APIuploadPhoto = async () => {\n    try {\n      const response = await axios({\n        method: \"POST\",\n        url: \"/api/imgupload\",\n        data: this.state.imgData\n      })\n\n      console.log(response);\n    } catch (error) {\n      console.log(error.message)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"app\">\n        <header className=\"header\">\n          <h1>My OCR App</h1>\n        </header>\n\n        { /* File uploader */}\n        <section className=\"hero\">\n          <label className=\"fileUploaderContainer\">\n            Click here to upload documents\n    <input type=\"file\" id=\"fileUploader\" onChange={this.uploadPhoto} multiple />\n          </label>\n\n\n\n          <div>\n            {this.state.uploads.map((value, index) => {\n              return <img key={index} src={value} width=\"100px\" />\n            })}\n          </div>\n\n          <button onClick={this.APIuploadPhoto} className=\"button\">Start Uploading</button>\n        </section>\n\n     \n      </div>\n    )\n  }\n\n}\n\nexport default UploadApp;"]},"metadata":{},"sourceType":"module"}